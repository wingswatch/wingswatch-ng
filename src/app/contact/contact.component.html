<h1>Contact Us</h1>

<div *ngIf="!feedbackSubmitted">

  <form class="contact" #contact="ngForm" (ngSubmit)="submitContactInfo(contact.value)">
    <div class="form-group">
      <label class="control-label">Full Name</label>
      <input required minlength="2" type="text" name="name" placeholder="Ex. John Smith" [(ngModel)]="feedback.Name" #Name="ngModel" />
      <div class="warning-text" *ngIf="Name.invalid && (Name.dirty || Name.touched)" [hidden]="Name.valid">
          <div *ngIf="Name.errors.required">This field is required</div>
          <div *ngIf="Name.errors.minlength">Must be at least 2 characters</div>
      </div>
    </div>
    <div class="form-group">
        <label class="control-label">Email</label>
        <input required minlength="2" pattern="\S+@\S+\.\S+" type="text" name="email" placeholder="example@example.com" [(ngModel)]="feedback.Email" #Email="ngModel" />
        <div class="warning-text" *ngIf="Email.invalid && (Email.dirty || Email.touched)" [hidden]="Email.valid">
            <div *ngIf="Email.errors.required">This field is required</div>
            <div *ngIf="Email.errors.minlength">Must be longer than ya micropenis</div>
            <div *ngIf="Email.errors.pattern">Must be a valid email</div>
        </div>
    </div>
    <div class="form-group">
      <label class="control-label">Message</label>
      <textarea name="message" placeholder="Great to meet you" [(ngModel)]="feedback.Message"></textarea>
    </div>

    <div class="submission">
      <button type="submit" class="btn" [disabled]="!contact.valid">Send</button>
    </div>

  </form>

</div>

<div *ngIf="feedbackSubmitted">

  <p>
    <small><a [routerLink]="['/accidents']">&lt;- Back to Accident List</a></small>
  </p>

  <p>
    Thank you, we have received your feedback.
  </p>

  <h4>Feedback</h4>

  <table class="table">
    <tr>
      <td>
        Name:
      </td>
      <td>
        {{ feedback.Name }}
      </td>
    </tr>
    <tr>
      <td>
        Email:
      </td>
      <td>
        {{ feedback.Email }}
      </td>
    </tr>
    <tr>
      <td>
        Message:
      </td>
      <td>
        {{ feedback.Message }}
      </td>
    </tr>
  </table>
</div>

